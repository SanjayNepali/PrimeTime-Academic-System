{% extends 'base.html' %}

{% block title %}Notifications - {{ block.super }}{% endblock %}

{% block content %}
<div class="container mt-4">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h2><i class="fas fa-bell"></i> Notifications</h2>
        {% if unread_count > 0 %}
        <a href="?mark_all_read=1" class="btn btn-primary">Mark All Read</a>
        {% endif %}
    </div>

    <div class="list-group">
        {% for notification in notifications %}
        <a href="{% url 'events:event_detail' notification.event.pk %}"
           class="list-group-item list-group-item-action {% if not notification.is_read %}list-group-item-primary{% endif %}">
            <div class="d-flex w-100 justify-content-between">
                <h6 class="mb-1">{{ notification.event.title }}</h6>
                <small>{{ notification.created_at|timesince }} ago</small>
            </div>
            <p class="mb-1">{{ notification.message }}</p>
        </a>
        {% empty %}
        <div class="list-group-item text-center">No notifications</div>
        {% endfor %}
    </div>
</div>
{% endblock %}